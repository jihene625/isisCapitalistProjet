<div class="game-container">
  <!-- Menu latéral -->
  <div class="side-menu">
    <div class="arc-bg"></div>
    <div class="doctor-icon">
      <img src="assets/Medecin.png" alt="Doctor" class="doctor-image" />
    </div>
    <div class="menu-items">
      <div class="menu-item unlocks">
        <img src="assets/Unlocks.png" alt="Unlock" class="menu-icon-unlock" />
        <span>UNLOCKS</span>
      </div>
      <div class="menu-item upgrades">
        <img src="assets/upgrade.png" alt="Upgrades" class="menu-icon" />
        <span>UPGRADES</span>
      </div>
      <div class="menu-item managers">
        <img src="assets/Manager.png" alt="Managers" class="menu-icon" />
        <span>MANAGERS</span>
      </div>
      <div class="menu-item investors">
        <img src="assets/Investors.png" alt="Investors" class="menu-icon" />
        <span>INVESTORS</span>
      </div>
    </div>
  </div>

  <!-- Zone principale -->
  <div class="main-area">
    <div class="world-stats" *ngIf="world">
      <p>Money: {{ world.money | number:'1.0-2' }}</p>
    </div>

    <!-- Liste des produits -->
    <div class="products-grid" *ngIf="world">
      <div class="product-card" *ngFor="let product of world.products">

        <!-- 1) Conteneur bleu arrondi -->
        <div class="product-blue-container">
          <!-- Bulle de temps en haut (format 00.00.00) -->
          <div class="time-bubble">
            00.00.00
            <!-- Ou {{ formatTime(product.timeleft) }} si tu as une fonction de format -->
          </div>

          <!-- Icône du produit au centre -->
          <img
            class="product-icon"
            [src]="'http://localhost:3000/icones/' + product.logo"
            alt="{{ product.name }}"
          />

          <!-- Bulle rose en bas pour la quantité -->
          <div class="quantity-bubble">
            <!-- Barre rose partielle, derrière le texte -->
            <div
              class="quantity-fill"
              [style.width.%]="(product.quantite / 50) * 100"
            ></div>

            <!-- Le texte au-dessus -->
            <span>{{ product.quantite }}</span>
          </div>
        </div>

        <!-- 2) Bloc rose à droite (BUY) -->
        <div class="product-buy-pink" (click)="buyProduct(product.id)">
          <div class="buy-left">
            BUY <br> x1
          </div>
          <div class="buy-right">
            {{ product.cout | number:'1.0-2' }} <br>
            miles
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
